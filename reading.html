<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="light">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Quran Cast - وضع القراءة</title>
    <meta name="description" content="قراءة القرآن الكريم مع التفسير والترجمة">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&family=Cairo:wght@300;400;600;700;800;1000&family=Scheherazade+New:wght@400;700&family=Noto+Nastaliq+Urdu:wght@400;500;600;700&family=Reem+Kufi:wght@400;500;600;700&family=Almarai:wght@300;400;700;800&display=swap"
        rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

    <link rel="stylesheet" href="styles/main.css">
</head>

<body>
    <!-- Top Navigation - Desktop Only -->
    <nav class="navbar navbar-expand-lg fixed-top d-none d-md-block">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="index.html">
                <img src="media/images/logo.jpg" alt="Quran Cast Logo" width="40" height="40" class="rounded me-3">
            </a>

            <!-- Navigation Links -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            <i class="bi me-2"></i> الرئيسية
                        </a>
                    </li>


                    <li class="nav-item">
                        <a class="nav-link" href="prayer-qibla.html">
                            <i class="bi me-2"></i>الصلاة والقبلة
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="player.html">
                            <i class="bi me-2"></i>القرآن الكريم
                        </a>
                    </li>


                    <li class="nav-item">
                        <a class="nav-link active" href="hadith.html">
                            <i class="bi me-2"></i>الأحاديث
                        </a>
                    </li>
                </ul>

                <!-- Theme Toggle -->
                <div class="navbar-nav">
                    <button class="btn theme-toggle" onclick="toggleTheme()" title="تبديل الوضع المظلم">
                        <i class="bi bi-moon-fill" id="themeIcon"></i>
                    </button>
                </div>

            </div>
        </div>
    </nav>

    <!-- Enhanced Sidebar (Hidden by default) -->
    <div class="sidebar enhanced-sidebar" id="sidebar" style="display: none;">
        <div class="sidebar-header">
            <div class="logo-section">

                <h4 class="app-name">Quran Cast</h4>
            </div>

        </div>
        <div class="sidebar-content">
            <div class="nav-section mb-4">
                <h6 class="nav-section-title">القائمة الرئيسية</h6>
                <a href="index.html" class="sidebar-nav-item">
                    <i class="bi bi-book-open"></i>
                    <span>القرآن الكريم</span>
                    <i class="bi bi-chevron-left"></i>
                </a>
                <a href="prayer-qibla.html" class="sidebar-nav-item">
                    <i class="bi bi-clock"></i>
                    <span>الصلاة والقبلة</span>
                    <i class="bi bi-chevron-left"></i>
                </a>
                <a href="hadith.html" class="sidebar-nav-item">
                    <i class="bi bi-chat-quote"></i>
                    <span>الأحاديث</span>
                    <i class="bi bi-chevron-left"></i>
                </a>
                <a href="reading.html" class="sidebar-nav-item active">
                    <i class="bi bi-book"></i>
                    <span>القراءة</span>
                    <i class="bi bi-chevron-left"></i>
                </a>
                <a href="player.html" class="sidebar-nav-item">
                    <i class="bi bi-ear"></i>
                    <span>المشغل</span>
                    <i class="bi bi-chevron-left"></i>
                </a>
            </div>

            <div class="nav-section mb-4">
                <h6 class="nav-section-title">إعدادات سريعة</h6>
                <button class="sidebar-nav-item" onclick="toggleTheme()">
                    <i class="bi bi-moon-stars"></i>
                    <span>تبديل الوضع</span>
                    <i class="bi bi-chevron-left"></i>
                </button>
            </div>


            <div class="nav-section mb-4">

                <button style="background-color: rgba(197, 7, 7, 0.212); " class="sidebar-nav-item"
                    onclick="toggleSidebar()">
                    <span> اغلاق</span>
                    <i class="bi bi-chevron-left"></i>
                </button>
            </div>



        </div>
    </div>

    <main class="container" style="margin-top: 10px;">

        <!-- Surah List Section (Default View) -->
        <div id="surahListSection">
            <div class="content">
                <div class="section-header">
                    <div class="reading-header">
                        <h3 class="surah-title">اختر سورة للقراءة</h3>
                        <div class="reading-controls">
                            <button class="back-btn" onclick="goToMainPage()" title="العودة للصفحة الرئيسية">
                                <i class="bi bi-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Search Bar -->
                <div class="search-bar mb-4">
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="bi bi-search"></i>
                        </span>
                        <input type="text" id="surahSearch" class="form-control" placeholder="ابحث برقم او اسم السورة">
                    </div>
                </div>

                <!-- Surah List -->
                <div class="list" id="surahList">
                    <!-- Surahs will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Reading Mode Section (Hidden by default) -->
        <div id="readingSection" style="display: none;">
            <div class="content">
                <div class="section-header">
                    <div class="reading-header">
                        <h3 id="readingTitle" class="surah-title">اختر سورة للقراءة</h3>
                        <div class="reading-controls">
                            <!-- Simple Font Size Controls -->
                            <div class="font-controls">
                                <button class="control-btn font-btn" onclick="decreaseFontSize()" title="تصغير الخط">
                                    <i class="bi bi-dash-lg"></i>
                                </button>
                                <button class="control-btn font-btn" onclick="increaseFontSize()" title="تكبير الخط">
                                    <i class="bi bi-plus-lg"></i>
                                </button>
                            </div>

                            <button class="control-btn" id="showTafsir" onclick="toggleTafsir()" title="التفسير">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-badge-cc" viewBox="0 0 16 16">
                                    <path
                                        d="M3.708 7.755c0-1.111.488-1.753 1.319-1.753.681 0 1.138.47 1.186 1.107H7.36V7c-.052-1.186-1.024-2-2.342-2C3.414 5 2.5 6.05 2.5 7.751v.747c0 1.7.905 2.73 2.518 2.73 1.314 0 2.285-.792 2.342-1.939v-.114H6.213c-.048.615-.496 1.05-1.186 1.05-.84 0-1.319-.62-1.319-1.727zm6.14 0c0-1.111.488-1.753 1.318-1.753.682 0 1.139.47 1.187 1.107H13.5V7c-.053-1.186-1.024-2-2.342-2C9.554 5 8.64 6.05 8.64 7.751v.747c0 1.7.905 2.73 2.518 2.73 1.314 0 2.285-.792 2.342-1.939v-.114h-1.147c-.048.615-.497 1.05-1.187 1.05-.839 0-1.318-.62-1.318-1.727z" />
                                    <path
                                        d="M14 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z" />
                                </svg>
                            </button>
                            <button class="control-btn" id="showTranslation" onclick="toggleTranslation()"
                                title="الترجمة">
                                <i class="bi bi-translate"></i>
                            </button>
                            <button class="back-btn" onclick="showSurahList()" title="العودة لقائمة السور">
                                <i class="bi bi-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mushaf-view" id="readingList">
                <!-- Content will be loaded here -->
            </div>
        </div>
    </main>

    <!-- Bottom Navigation Bar - Mobile Only -->
    <nav class="bottom-navbar">
        <div class="nav-item" onclick="window.location.href='index.html'">
            <i class="bi bi-book-open"></i>
            <span>القرآن</span>
        </div>
        <div class="nav-item" onclick="window.location.href='player.html'">
            <i class="bi bi-play-circle"></i>
            <span>المشغل</span>
        </div>
        <div class="nav-item active" onclick="window.location.href='reading.html'">
            <i class="bi bi-book"></i>
            <span>القراءة</span>
        </div>
        <div class="nav-item" onclick="window.location.href='prayer-qibla.html'">
            <i class="bi bi-clock"></i>
            <span>الأذان</span>
        </div>
        <div class="nav-item" onclick="window.location.href='hadith.html'">
            <i class="bi bi-chat-quote"></i>
            <span>الأحاديث</span>
        </div>
    </nav>

    <!-- Enhanced Sidebar (Hidden by default) -->
    <div class="sidebar enhanced-sidebar" id="sidebar" style="display: none;">
        <div class="sidebar-header">
            <div class="logo-section">
                <img src="media/images/logo.jpg" alt="Quran Cast Logo" class="logo">
                <h4 class="app-name">Quran Cast</h4>
            </div>
            <button class="sidebar-toggle enhanced-sidebar-toggle" onclick="toggleSidebar()">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>

        <div class="sidebar-content">
            <div class="nav-section mb-4">
                <h6 class="nav-section-title">القائمة الرئيسية</h6>
                <a href="index.html" class="sidebar-nav-item">
                    <i class="bi bi-book-open"></i>
                    <span>القرآن الكريم</span>
                    <i class="bi bi-chevron-left"></i>
                </a>
                <a href="player.html" class="sidebar-nav-item">
                    <i class="bi bi-play-circle"></i>
                    <span>المشغل</span>
                    <i class="bi bi-chevron-left"></i>
                </a>
                <a href="reading.html" class="sidebar-nav-item active">
                    <i class="bi bi-book"></i>
                    <span>القراءة</span>
                    <i class="bi bi-chevron-left"></i>
                </a>
                <a href="prayer-qibla.html" class="sidebar-nav-item">
                    <i class="bi bi-clock"></i>
                    <span>الصلاة والقبلة</span>
                    <i class="bi bi-chevron-left"></i>
                </a>
                <a href="hadith.html" class="sidebar-nav-item">
                    <i class="bi bi-chat-quote"></i>
                    <span>الأحاديث</span>
                    <i class="bi bi-chevron-left"></i>
                </a>
            </div>

            <div class="nav-section mb-4">
                <h6 class="nav-section-title">إعدادات سريعة</h6>
                <button class="sidebar-nav-item" onclick="toggleTheme()">
                    <i class="bi bi-moon-stars"></i>
                    <span>تبديل الوضع</span>
                    <i class="bi bi-chevron-left"></i>
                </button>
            </div>

            <div class="nav-section">
                <h6 class="nav-section-title">معلومات التطبيق</h6>
                <div class="sidebar-info">
                    <p class="text-muted mb-2"><i class="bi bi-code-slash me-2"></i>نسخة تجريبية v1.0</p>
                    <p class="text-muted mb-0"><i class="bi bi-heart me-2"></i>مطور للمسلمين</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation Bar - Mobile Only -->
    <nav class="bottom-navbar">

        <div class="nav-item" onclick="window.location.href='index.html'">
            <i class="bi bi-house-door"></i>
            <span>الرئيسية</span>
        </div>


        <div class="nav-item" onclick="window.location.href='prayer-qibla.html'">
            <i class="bi bi-clock"></i>
            <span>الصلاة</span>
        </div>

        <div class="nav-item" onclick="window.location.href='player.html'">
            <i class="bi bi-book-half"></i>
            <span>القرآن</span>
        </div>


        <div class="nav-item active" onclick="window.location.href='reading.html'">
            <i class="bi bi-book"></i>
            <span>القراءة</span>
        </div>

        <div class="nav-item" onclick="window.location.href='hadith.html'">
            <i class="bi bi-chat-quote"></i>
            <span>الأحاديث</span>
        </div>

        <div class="nav-item more-btn" onclick="toggleSidebar()">
            <i class="bi bi-three-dots"></i>
            <span>المزيد</span>
        </div>
    </nav>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/reading.js"></script>

    <!-- Quran Mode Selection Modal -->
    <div class="modal fade" id="quranModeModal" tabindex="-1" aria-labelledby="quranModeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0 pb-0">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center pb-4">
                    <div class="quran-mode-icon mb-4">
                        <i class="bi bi-book-open display-1 text-primary"></i>
                    </div>
                    <h4 class="modal-title mb-4" id="quranModeModalLabel">اختر وضع القرآن الكريم</h4>

                    <div class="row g-3">
                        <div class="col-6">
                            <div class="quran-mode-option" onclick="selectQuranMode('listening')">
                                <div class="mode-icon mb-3">
                                    <i class="bi bi-ear display-4 text-success"></i>
                                </div>
                                <h5 class="mode-title">الاستماع</h5>
                                <p class="mode-description text-muted">استمع إلى تلاوات عطرة</p>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="quran-mode-option" onclick="selectQuranMode('reading')">
                                <div class="mode-icon mb-3">
                                    <i class="bi bi-book display-4 text-info"></i>
                                </div>
                                <h5 class="mode-title">القراءة</h5>
                                <p class="mode-description text-muted">اقرأ القرآن مع التفسير</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Quran Mode Selection Functions
        function selectQuranMode(mode) {
            if (mode === 'listening') {
                window.location.href = 'player.html';
            } else if (mode === 'reading') {
                window.location.href = 'reading.html';
            }
        }

        // Show Quran Mode Modal for Quran-related navigation items
        function showQuranModeModal() {
            const modal = new bootstrap.Modal(document.getElementById('quranModeModal'));
            modal.show();
        }

        // Add click event listeners to Quran navigation items
        document.addEventListener('DOMContentLoaded', function () {
            // Desktop navbar Quran link
            const desktopQuranLink = document.querySelector('.navbar-nav .nav-item a[href="player.html"]');
            if (desktopQuranLink) {
                desktopQuranLink.addEventListener('click', function (e) {
                    e.preventDefault();
                    showQuranModeModal();
                });
            }

            // Bottom navbar Quran item
                    const bottomQuranItem = document.querySelector('.bottom-navbar .nav-item[onclick*="player.html"]');
                    if (bottomQuranItem) {
                bottomQuranItem.setAttribute('onclick', 'showQuranModeModal()');
            }

            // Sidebar Quran link
            const sidebarQuranLink = document.querySelector('.sidebar .sidebar-nav-item[href="player.html"]');
            if (sidebarQuranLink) {
                sidebarQuranLink.addEventListener('click', function (e) {
                    e.preventDefault();
                    showQuranModeModal();
                });
            }
        });
    </script>
    <script>
        // Reading page specific functions
        function goToMainPage() {
            window.location.href = 'index.html';
        }

        function showSurahList() {
            document.getElementById('surahListSection').style.display = 'block';
            document.getElementById('readingSection').style.display = 'none';
        }

        function showReadingMode() {
            document.getElementById('surahListSection').style.display = 'none';
            document.getElementById('readingSection').style.display = 'block';
        }

        // Toggle sidebar function
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            if (sidebar) {
                if (sidebar.style.display === 'none' || sidebar.style.display === '') {
                    sidebar.style.display = 'block';
                    sidebar.classList.add('show');
                } else {
                    sidebar.classList.remove('show');
                    setTimeout(() => {
                        sidebar.style.display = 'none';
                    }, 300);
                }
            }
        }

        // Initialize reading page
        document.addEventListener('DOMContentLoaded', function () {
            // Load saved font preferences
            loadFontPreferences();

            // Initialize theme
            initializeTheme();

            // Load surahs list
            loadSurahs();
        });
    </script>
</body>

</html>